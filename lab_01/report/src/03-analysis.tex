\section{Аналитическая часть}

Расстояние Дамерау--Левенштейна представляет собой метрику, измеряющую разницу между двумя строками, путем подсчета минимального числа операций, необходимых для преобразования одной строки в другую.
Эти операции включают в себя вставку, удаление, замену символов и дополнительную относительно расстояния Левенштейна операцию, которая называется транспозицией, которая представляет собой перестановку двух соседних символов в строке. \cite{cyberleninka_modifitsirovannyi_algoritm}

Обозначения редакторских операций:
\begin{enumerate}
	\item I - вставка символа (insert);
	\item D - удаление (delete);
	\item R - замена (replace);
	\item M - совпадение двух символов (match);
	\item T - транспозиция двух соседних символов (transposition).
\end{enumerate}
I, D, R, T - штраф 1 (в преобразуемой строке).

Совпадение символа с самим собой не имеет дополнительной стоимости и оценивается как 0.

Эти операции и их стоимости позволяют вычислить расстояние Дамерау--Левенштейна между двумя строками, что является важным инструментом в областях, где требуется измерять сходство или различие между текстовыми последовательностями.

\subsection{Нерекурсивный алгоритм поиска расстояния Левенштейна}
Пусть $L1$ - длина строки $S_{1}$, $L2$ - длина строки $S_{2}$. 
$S_{1}[1..i]$ - подстрока $S_{1}$ с длиной $i$ символов, начиная с первого, $S_{2}[1..j]$ - подстрока $S_{2}$ длиной $j$ символов, начиная с первого. \cite{levenstein_book}

Расстояние Левенштейна может быть найдено с помощью формулы:

\begin{equation}
	\label{eq:d}
	D(i, j) = \begin{cases} 
		\max(i, j) &\text{если }\min(i, j) = 0, \\
		\min \lbrace \\
	     \qquad D(i, j-1) + 1, \\
	     \qquad D(i-1, j) + 1, \\
	     \qquad D(i-1, j-1) + m(S_{1}[i], S_{2}[j]), &\text{иначе} \\
	     \rbrace
	\end{cases},
\end{equation}

где $m(S_{1}[i], S_{2}[i])$ равна нулю, если $S_{1}[i] = S_{2}[i]$ и единице в противном случае.

Для оптимизации вычисления расстояния между строками используется матрица промежуточных значений. Её размерность определяется как $(len(S_{1}) + 1) × (len(S_{2}) + 1)$.
Каждая ячейка матрицы, обозначенная как $matrix[j, j]$, содержит значение расстояния между подстроками $S_{1}[1...i] и S_{2}[1...j]$. 
Первая строка и первый столбец этой матрицы представляют собой тривиальные случаи и соответствуют наибольшим f $i$ или $j$ в соответствующей строке или столбце.

Матрица заполняется в соответствии со следующей формулой:

\begin{equation}
	\label{eq:mat}
	M[i][j] = min \begin{cases}
		\qquad M[i-1][j] + 1,\\
		\qquad M[i][j-1] + 1,\\
		\qquad M[i-1][j-1] + m(S_{1}[i], S_{2}[j])\\
	\end{cases}.
\end{equation}

Расстоянием Левенштейна будет значение в самой правой нижней ячейке матрицы с индексами $i = len(S_{1}), j = len(S_{2})$.

\subsection{Нерекурсивный алгоритм поиска расстояния Дамерау--Левенштейна}

Расстояние Дамерау--Левенштейна между двумя строками, обозначенными как $S_1$ и $S_2$, может быть вычислено с использованием формулы \ref{eq:d1}. 
Эта формула имеет следующий вид:

\begin{equation}
    \begin{aligned}
        \label{eq:d1}
        \llap{$D(i, j) =$} 
        \begin{cases}
            \min(i, j) = 0, &\text{если} \max(i, j),\\
            \min \left\{ 
                \begin{array}{l}
                    D(i, j-1) + 1,\\
                    D(i-1, j) + 1,\\
                    D(i-1, j-1) + m(S_{1}[i], S_{2}[j]), 
                \end{array}
            \right. & \text{иначе}\\
            \left[ 
                \begin{array}{ll}
                    D(i-2, j-2) + 1, &\text{если }i,j > 1;\\
                    &S_{1}[i] = S_{2}[j-1];\\
                    &S_{1}[i-1] = S_{2}[j]\\
                    \infty, & \text{иначе}
                \end{array}
            \right.
        \end{cases},
    \end{aligned}
\end{equation}


Эта формула представляет собой рекуррентное соотношение, которое позволяет вычислить расстояние между двумя строками, учитывая вставки, удаления, замены и транспозиции символов. 
В результате выполнения этой формулы получается матрица, где значение в ячейке с индексами $i = len	(S_{1})$ и $j = len(S_{2})$ представляет собой расстояние Дамерау--Левенштейна между исходными строками $S_{1}$ и $S_{2}$.

Формула \ref{eq:d1} выводится на основе аналогичных рассмотрений, что и формула \ref{eq:d}, но с учетом дополнительной редакторской операции - транспозиции символов. 
Эта формула позволяет эффективно находить расстояние Дамерау--Левенштейна и широко используется в задачах редактирования и сравнения строк.

\newpage
\subsection{Рекурсивный алгоритм нахождения расстояния Дамерау--Левенштейна}

Рекурсивный алгоритм для вычисления расстояния Дамерау--Левенштейна реализует формулу \ref{eq:d1}. Функция $D$ определяется следующим образом:

\begin{enumerate}[label=\arabic*)]
	\item перевод из пустой строки в пустую строку не требует никаких операций и, следовательно, имеет стоимость равную нулю;
	\item перевод из пустой строки в строку $S_{1}$ требует выполнения $|S_{1}|$ операций, каждая из которых добавляет один символ к строке $S_{1}$. Таким образом, общая стоимость такого перевода равна $|S_{1}|$;
	\item перевод из строки $S_{1}$ в пустую строку аналогично требует выполнения $|S_{1}|$ операций удаления, каждая из которых удаляет один символ из строки $S_{1}$. Следовательно, общая стоимость такого перевода также равна $|S_{1}|$;
	\item для перевода из строки $S_{1}$ в строку $S_{2}$ требуется выполнить последовательность операций (удаление, вставка, замена, транспозиция) в определенной последовательности.
\end{enumerate}

Полагая $S_{1}'$ и $S_{2}'$ как строки $S_{1}$ и $S_{2}$ без их последних символов соответственно, цена преобразования из строки $S_{1}$ в строку $S_{2}$ может быть выражена следующими случаями:
\begin{enumerate}
   \item сумма цены преобразования строки $S_{1}'$ в $S_{2}$ и цены операции удаления, необходимой для преобразования $S_{1}'$ в $S_{1}$;
   \item сумма цены преобразования строки $S_{1}$ в $S_{2}'$ и цены операции вставки, необходимой для преобразования $S_{2}'$ в $S_{2}$;
   \item сумма цены преобразования из $S_{1}'$ в $S_{2}'$ и цены операции замены, предполагая, что последние символы $S_{1}$ и $S_{2}$ разные;
   \item цена преобразования из $S_{1}'$ в $S_{2}'$, предполагая, что последние символы $S_{1}$ и $S_{2}$ совпадают;
   \item сумма цены преобразования $S_{1}''$ в $S_{2}''$, предполагая, что последние два символа $S_{1}$ можно преобразовать путем транспозиции в два последних символа $S_{2}$.
\end{enumerate}

Таким образом, рекурсивный алгоритм находит оптимальное решение, учитывая все возможные варианты операций.

\subsection{Рекурсивный алгоритм с кэшированием для нахождения расстояния Дамерау--Левенштейна}

Рекурсивный алгоритм с кэшированием является улучшенной версией рекурсивного алгоритма нахождения расстояния Дамерау--Левенштейна. 
Он использует ту же формулу \ref{eq:d1}, но с добавлением механизма кэширования, чтобы избежать повторных вычислений и снизить вычислительную сложность.

Функция $D$ в этой версии алгоритма хранит результаты вычислений в специальной матрице кэша. 
Каждый элемент этой матрицы соответствует значениям $D(i, j)$ для определенной пары индексов $i$ и $j$. 
Если значение уже было вычислено, оно сохраняется в кэше, и при необходимости оно просто извлекается из кэша, вместо того чтобы пересчитываться заново.

Такой подход существенно ускоряет процесс вычисления расстояния Дамерау--Левенштейна, особенно при работе с большими строками.
Эффективное использование кэширования позволяет избежать множественных повторных вычислений и сделать алгоритм более производительным.

Таким образом, рекурсивный алгоритм с кэшированием представляет собой оптимизированную версию рекурсивного алгоритма, способную эффективно находить расстояние Дамерау--Левенштейна между двумя строками.
